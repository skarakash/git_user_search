const DARK="dark",LIGHT="light",api="https://api.github.com/users/",toggleButton=document.querySelector(".header__theme--switcher"),toggleButtonString=document.querySelector(".header__theme--value"),darkToggle=document.querySelector(".header__theme--icon-light"),lightToggle=document.querySelector(".header__theme--icon-dark"),wrapper=document.querySelector(".wrapper"),repos=document.querySelector(".user__stats--info-number"),name=document.querySelector(".user__info-login-name"),gitName=document.querySelector(".user__info-login-nickname"),dateJoined=document.querySelector(".user__info-login-joined"),followers=document.querySelector(".user__stats--followers-number"),following=document.querySelector(".user__stats--following-number"),bio=document.querySelector(".user__info-login-bio"),avatar=document.querySelector(".user__info-avatar"),location=document.querySelector(".user__links--location-name"),website=document.querySelector(".user__links--website-link-anchor"),twitter=document.querySelector(".user__links--twitter-handle"),company=document.querySelector(".user__links--company-name"),locationWrapper=document.querySelector(".user__links--location"),websiteWrapper=document.querySelector(".user__links--website"),twitterWrapper=document.querySelector(".user__links--twitter"),companyWrapper=document.querySelector(".user__links--company"),main=document.querySelector(".main"),error=document.querySelector(".search__error"),setTheme=()=>{const e=window.matchMedia("(prefers-color-scheme: light)").matches,t=window.matchMedia("(prefers-color-scheme: dark)").matches;e&&(toggleButtonString.textContent=DARK,darkToggle.classList.add("active"),darkToggle.classList.add("active")),t&&(wrapper.classList.add("dark"),toggleButtonString.textContent=LIGHT,lightToggle.classList.add("active"),lightToggle.classList.add("active"))};setTheme();const toggleTheme=()=>{toggleButtonString.textContent.trim()===DARK?(toggleButtonString.textContent=LIGHT,wrapper.classList.add("dark"),lightToggle.classList.add("active"),darkToggle.classList.remove("active")):(toggleButtonString.textContent=DARK,wrapper.classList.remove("dark"),lightToggle.classList.remove("active"),darkToggle.classList.add("active"))};toggleButton.addEventListener("click",toggleTheme);const form=document.querySelector(".search"),formatDate=e=>{const t=new Date(e);return`${t.getDate()} ${new Intl.DateTimeFormat("en-US",{month:"long"}).format(t)} ${t.getFullYear()}`},renderData=e=>{e&&(name.textContent=e.name?e.name:"Not Available",gitName.textContent=e.login?e.login:"Not Available",dateJoined.textContent=`Joined ${e.joined}`,bio.textContent=e.bio?e.bio:"",repos.textContent=e.totalRepos?e.totalRepos:"0",followers.textContent=e.followers?e.followers:"0",following.textContent=e.following?e.following:"0",avatar.setAttribute("src",e.avatarUrl),twitter.textContent=e.twitter?e.twitter:"Not Available",location.textContent=e.location?e.location:"Not Available",company.textContent=e.company?e.company:"Not Available",website.textContent=e.blog.length>0?e.blog:"Not Available",updateNodesAvailability({blog:e.blog.length>0,company:e.company,location:e.location,twitter:e.twitter,bio:e.bio}),main.style.opacity="initial")},updateNodesAvailability=e=>{e.blog?websiteWrapper.classList.remove("disabled"):websiteWrapper.classList.add("disabled"),e.company?companyWrapper.classList.remove("disabled"):companyWrapper.classList.add("disabled"),e.twitter?twitterWrapper.classList.remove("disabled"):twitterWrapper.classList.add("disabled"),e.location?locationWrapper.classList.remove("disabled"):locationWrapper.classList.add("disabled"),e.bio?bio.style.display="block":bio.style.display="none"},getData=async e=>{try{const t=await fetch(e);if(t.ok){const e=await t.json(),o=await fetch(e.repos_url);if(o.ok){const t=await o.json();return"block"===window.getComputedStyle(error).display&&(error.style.display="none"),{name:e.name,joined:formatDate(e.created_at),login:e.login,followers:String(e.followers),following:String(e.following),location:e.location,twitter:e.twitter_username,blog:e.blog,company:e.company,totalRepos:String(t.length),bio:e.bio,avatarUrl:e.avatar_url}}throw new Error(`Request failed with status ${t.status}`)}throw new Error(`Request failed with status ${t.status}`)}catch(e){error.style.display="block",console.error(e)}};form.onsubmit=async function(e){e.preventDefault();const t=e.currentTarget.name.value.trim();if(""===t)return;const o=`${api}${t}`,a=await getData(o);a&&renderData(a)};